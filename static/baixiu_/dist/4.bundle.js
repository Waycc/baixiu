(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{97:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container-fluid"},[t._m(0),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("form",[s("h2",[t._v("添加新分类目录")]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("名称")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.categoriesName,expression:"categoriesName"}],staticClass:"form-control",attrs:{id:"name",name:"name",type:"text",placeholder:"分类名称"},domProps:{value:t.categoriesName},on:{input:function(e){e.target.composing||(t.categoriesName=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"slug"}},[t._v("描述")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.categoriesDes,expression:"categoriesDes"}],staticClass:"form-control",attrs:{id:"slug",name:"slug",type:"text",placeholder:"描述"},domProps:{value:t.categoriesDes},on:{input:function(e){e.target.composing||(t.categoriesDes=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.addCategory(e)}}},[t._v("添加")])])])]),t._v(" "),s("div",{staticClass:"col-md-8"},[t._m(1),t._v(" "),s("table",{staticClass:"table table-striped table-bordered table-hover"},[s("thead",[s("tr",[s("th",{staticClass:"text-center",attrs:{width:"40"}},[s("input",{attrs:{type:"checkbox"},domProps:{checked:t.categoriesList.length===t.categoriesIds.length&&t.categoriesIds.length},on:{click:t.checkAll}})]),t._v(" "),s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("描述")]),t._v(" "),s("th",{staticClass:"text-center",attrs:{width:"100"}},[t._v("操作")])])]),t._v(" "),s("tbody",t._l(t.categoriesList,function(e){return s("tr",{key:e.id},[s("td",{staticClass:"text-center"},[s("input",{attrs:{type:"checkbox"},domProps:{checked:t.categoriesIds.includes(e.id)},on:{click:function(s){return s.stopPropagation(),t.handleCheck(e.id)}}})]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.des))]),t._v(" "),t._m(2,!0)])}),0)])])])])])};a._withStripped=!0;var i=s(5),r={name:"categories",data:function(){return{categoriesName:"",categoriesDes:"",categoriesList:[],categoriesIds:[]}},created:function(){var t=this;i.a.getCategory().then(function(e){e.data.status?t.categoriesList=e.data.data:alert(e.data.message||"获取类别失败")})},methods:{addCategory:function(){var t=this;i.a.addCategory(this.paramsObj).then(function(e){e.data.status?(alert("添加成功"),t.$router.go(0)):alert("添加失败")})},handleCheck:function(t){var e=this.categoriesIds.indexOf(t);e>=0?this.categoriesIds.splice(e,1):this.categoriesIds.push(t)},checkAll:function(){var t=this;this.categoriesList.length!==this.categoriesIds.length?this.categoriesList.map(function(e){t.categoriesIds.includes(e.id)||t.categoriesIds.push(e.id)}):this.categoriesIds=[]}},computed:{paramsObj:function(){return{name:this.categoriesName,des:this.categoriesDes}}}},c=s(2),n=Object(c.a)(r,a,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-title"},[e("h1",[this._v("分类目录")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-action"},[e("a",{staticClass:"btn btn-danger btn-sm",attrs:{href:"javascript:;"}},[this._v("批量删除")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"text-center"},[e("a",{staticClass:"btn btn-info btn-xs",attrs:{href:"javascript:;"}},[this._v("编辑")]),this._v(" "),e("a",{staticClass:"btn btn-danger btn-xs",attrs:{href:"javascript:;"}},[this._v("删除")])])}],!1,null,"1ecb262c",null);n.options.__file="src/components/categories.vue";e.default=n.exports}}]);